<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kardashev Scale Game</title>
</head>

  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Kardashev Game">

  <style>
        body {
            font-family: 'Courier New', monospace; /* Pixel art vibe */
            background-color: #228B22; /* Green like the game's grass */
            color: #000;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        #game-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #F0F8FF;
            border: 2px solid #8B4513; /* Brown border like wood */
            padding: 20px;
            border-radius: 10px;
        }
        #map {
            display: grid;
            grid-template-columns: repeat(10, 40px); /* Simple grid map like pixel art */
            gap: 2px;
            background-color: #90EE90; /* Light green for land */
            margin: 20px auto;
            width: 400px;
            height: 400px;
            border: 2px solid #000;
        }
        .cell {
            background-color: #228B22; /* Default grass */
            border: 1px solid #000;
            cursor: pointer;
            font-size: 20px; /* For icons */
        }
        .cell.house { background-color: #8B4513; } /* Brown house */
        .cell.farm { background-color: #FFD700; } /* Yellow farm */
        .cell.factory { background-color: #696969; } /* Gray factory */
        .cell.power { background-color: #FFFF00; } /* Yellow power plant */
        .cell.advanced { background-color: #FF00FF; } /* Magenta for high-tech */
        #resources {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 18px;
            font-weight: bold;
        }
        button {
            background-color: #8B4513;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
        }
        button:hover { background-color: #A0522D; }
        #scale-status {
            font-size: 24px;
            color: #FF4500;
            margin: 20px 0;
        }
        #log {
            background-color: #F5F5DC;
            border: 1px solid #000;
            height: 150px;
            overflow-y: scroll;
            padding: 10px;
            text-align: left;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Build a Civilization on Kardashev Scale</h1>
        <p>Inspired by historic city builders. Start from Type 0 and reach Type 3!</p>
        
        <div id="scale-status">Current Kardashev Scale: Type 0 (Primitive)</div>
        
        <div id="resources">
            <div>Food: <span id="food">100</span></div>
            <div>Energy: <span id="energy">50</span></div>
            <div>Tech: <span id="tech">0</span></div>
            <div>Population: <span id="pop">10</span></div>
        </div>
        
        <div id="map"></div>
        
        <div>
            <button onclick="build('house')">Build House (Cost: 20 Food)</button>
            <button onclick="build('farm')">Build Farm (Cost: 10 Food)</button>
            <button onclick="build('factory')">Build Factory (Cost: 50 Energy)</button>
            <button onclick="build('power')">Build Power Plant (Cost: 30 Tech)</button>
            <button onclick="advanceTech()">Research Tech (Cost: 100 Energy)</button>
        </div>
        
        <div id="log">Game started. Build to grow your civilization!</div>
    </div>

    <script>
        // Game State
        let gameState = {
            food: 100,
            energy: 50,
            tech: 0,
            population: 10,
            scale: 0, // 0: Type 0, 1: Type 1, 2: Type 2, 3: Type 3
            map: Array(100).fill('grass'), // 10x10 grid
            interval: null
        };

        const scaleNames = ['Type 0 (Primitive)', 'Type 1 (Planetary)', 'Type 2 (Stellar)', 'Type 3 (Galactic)'];

        // Initialize Map
        function initMap() {
            const mapDiv = document.getElementById('map');
            mapDiv.innerHTML = '';
            for (let i = 0; i < 100; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.onclick = () => placeBuilding(i);
                mapDiv.appendChild(cell);
            }
            updateMap();
        }

        // Update Map Display
        function updateMap() {
            const cells = document.querySelectorAll('.cell');
            gameState.map.forEach((type, i) => {
                cells[i].className = `cell ${type}`;
                cells[i].textContent = type === 'house' ? 'ðŸ ' : type === 'farm' ? 'ðŸŒ¾' : type === 'factory' ? 'ðŸ­' : type === 'power' ? 'âš¡' : type === 'advanced' ? 'ðŸš€' : '';
            });
        }

        // Place Building on Map (simplified: replaces first available grass cell)
        function placeBuilding(cellIndex) {
            if (gameState.map[cellIndex] !== 'grass') return;
            // For demo, we'll just log and update state; in full game, use cellIndex
            logMessage('Building placed on map!');
            updateDisplay();
        }

        // Build Functions
        function build(type) {
            let cost = { food: 0, energy: 0, tech: 0 };
            switch (type) {
                case 'house':
                    cost.food = 20;
                    if (gameState.food >= cost.food) {
                        gameState.food -= cost.food;
                        gameState.map[gameState.map.indexOf('grass')] = 'house'; // Place on first grass
                        gameState.population += 5;
                        logMessage('Built House! Population increased.');
                    } else {
                        logMessage('Not enough Food!');
                        return;
                    }
                    break;
                case 'farm':
                    cost.food = 10;
                    if (gameState.food >= cost.food) {
                        gameState.food -= cost.food;
                        gameState.map[gameState.map.indexOf('grass')] = 'farm';
                        gameState.food += 20; // Immediate gain
                        logMessage('Built Farm! Food increased.');
                    } else {
                        logMessage('Not enough Food!');
                        return;
                    }
                    break;
                case 'factory':
                    cost.energy = 50;
                    if (gameState.energy >= cost.energy) {
                        gameState.energy -= cost.energy;
                        gameState.map[gameState.map.indexOf('grass')] = 'factory';
                        gameState.energy += 30; // Produce energy
                        gameState.tech += 5;
                        logMessage('Built Factory! Energy and Tech increased.');
                    } else {
                        logMessage('Not enough Energy!');
                        return;
                    }
                    break;
                case 'power':
                    cost.tech = 30;
                    if (gameState.tech >= cost.tech) {
                        gameState.tech -= cost.tech;
                        gameState.map[gameState.map.indexOf('grass')] = 'power';
                        gameState.energy += 100;
                        logMessage('Built Power Plant! Massive Energy gain.');
                    } else {
                        logMessage('Not enough Tech!');
                        return;
                    }
                    break;
            }
            updateDisplay();
            updateMap();
            checkScaleProgress();
        }

        // Advance Tech
        function advanceTech() {
            if (gameState.energy >= 100) {
                gameState.energy -= 100;
                gameState.tech += 50;
                logMessage('Tech advanced! Unlocked higher buildings.');
                // Unlock advanced building for higher scales
                if (gameState.scale >= 1) {
                    gameState.map[gameState.map.indexOf('grass')] = 'advanced';
                }
            } else {
                logMessage('Not enough Energy for research!');
            }
            updateDisplay();
        }

        // Check Kardashev Scale Progress
        function checkScaleProgress() {
            if (gameState.tech >= 100 && gameState.scale < 1) {
                gameState.scale = 1;
                logMessage('Achieved Type 1! Planetary control unlocked.');
            } else if (gameState.tech >= 500 && gameState.scale < 2) {
                gameState.scale = 2;
                logMessage('Achieved Type 2! Stellar energy harnessed.');
            } else if (gameState.tech >= 2000 && gameState.scale < 3) {
                gameState.scale = 3;
                logMessage('Achieved Type 3! Galactic civilization! You win!');
            }
            document.getElementById('scale-status').textContent = `Current Kardashev Scale: ${scaleNames[gameState.scale]}`;
        }

        // Update Display
        function updateDisplay() {
            document.getElementById('food').textContent = gameState.food;
            document.getElementById('energy').textContent = gameState.energy;
            document.getElementById('tech').textContent = gameState.tech;
            document.getElementById('pop').textContent = gameState.population;
        }

        // Log Messages
        function logMessage(msg) {
            const log = document.getElementById('log');
            log.innerHTML += `<p>${new Date().toLocaleTimeString()}: ${msg}</p>`;
            log.scrollTop = log.scrollHeight;
        }

        // Game Loop (simulates time passing)
        function startGameLoop() {
            gameState.interval = setInterval(() => {
                // Auto-generate resources based on buildings
                const houses = gameState.map.filter(t => t === 'house').length;
                const farms = gameState.map.filter(t => t === 'farm').length;
                gameState.food += farms * 5;
                gameState.energy += houses * 2 + farms * 1;
                if (gameState.scale >= 1) gameState.tech += 1; // Passive tech gain

                // Population growth
                gameState.population += Math.floor(houses * 0.1);

                updateDisplay();
                checkScaleProgress();
            }, 5000); // Every 5 seconds
        }

        // Initialize Game
        initMap();
        updateDisplay();
        startGameLoop();
        logMessage('Welcome to Kardashev Builder! Start building to advance your civilization.');
    </script>
</body>
</html>
